<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Physics</title>
        <link rel="stylesheet" type="text/css" href="../index.css">
        <style>
            body{
                font-size: 16px;
                margin: 40px;
                background-color: #1f1e29;
                color: 'white';
                }
        </style>
    </head>
    <body class="misaki">
        <p>無限スーパーボール</p>
         <canvas class="canvas" width="1342" height="549"></canvas>
            <p>ここにも</p>
        <t>時間の早さ</t>
        <input type="text" name="Time Rate" id="timeRate" placeholder="0" readonly />
        <input type="button" value="1" onclick="liveScreen(1);" />
        <input type="button" value="2" onclick="liveScreen(2);" />
        <input type="button" value="3" onclick="liveScreen(3);" />
        <input type="button" value="4" onclick="liveScreen(4);" />
        <input type="button" value="5" onclick="liveScreen(5);" />
        <input type="button" value="6" onclick="liveScreen(6);" />
        <input type="button" value="7" onclick="liveScreen(7);" />
        <input type="button" value="8" onclick="liveScreen(8);" />
        <input type="button" value="9" onclick="liveScreen(9);" />
        <input type="button" value="0" onclick="liveScreen(0);" />
        <input type="button" value="Delete" onclick="delScreen();" />
        <input type="button" value="Start" onclick="start();" />
        <input type="button" value="Test" onclick="test();" />
        <script type="text/javascript">
            const division = document.getElementById("timeRate");
            division.value=750;
            function input(value) {
                const inputedValue = value;
                division.value = inputedValue;
            }
            function liveScreen(enteredValue) {
                if (!division.value) {
                    division.value = "";
                }
                division.value += enteredValue;
            }
            function delScreen(){
                division.value=division.value.substring(0, 0)
                division.value=100
            }
            var isStart=0;
            function start(){
                isStart = 1;
                if (isStart == 1){
                t = 0;
                startTime = 0;
                startTime = Date.now() / division.value;
                translate();
                    y = 274.5;
                    x = 671;
            }
            }
            // canvas
            const canvas = document.querySelector('.canvas'); // Canvasの取得
            const context = canvas.getContext('2d');
            canvas.style.border = "3px solid";

            let dateSave = 0;
            let x = 671;
            let y = 274.5;
            let rad = 0;
            let r = 30;
            let t = 0;
            let l = 0;
            let periodx = 1;
            let periody = 1;
            var startTime = 0; //アニメーション開始時間
            const bound= [];
            const p = Math.PI;
            bound.ctx='';
            function translate() {
                t = Date.now() / division.value - startTime;
                
                context.clearRect(0,0,canvas.width, canvas.height);//リセット
                context.beginPath();
                context.fillStyle = 'white';
                // 次の描画位置を計算
                if (x-r < 0) {
                    periodx = Math.sin(p/2);
                    }if (canvas.width < x+r) {
                    periodx = -Math.sin(p/2);
                    }if (y-r< 0) {
                    periody= Math.sin(p/2);
                    }if (canvas.height< y+r) {
                    periody = -Math.sin(p/2);
                    }else{
                    }
                y=y+periody*10
                x=x+periodx*10
                context.arc(x,y,r,rad,2*Math.PI);
                context.fill();
                requestAnimationFrame(translate);
            }
            function test() {
                //alert();
                alert(freeFallPeriod);
            }
        </script>
    </body>
</html>
